<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Log Viewer | UNav-Sim</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Log Viewer" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Intended as a documentation theme based on Jekyll for technical writers documenting software and other technical products, this theme has all the elements you would need to handle multiple products with both multi-level sidebar navigation, tags, and other documentation features." />
<meta property="og:description" content="Intended as a documentation theme based on Jekyll for technical writers documenting software and other technical products, this theme has all the elements you would need to handle multiple products with both multi-level sidebar navigation, tags, and other documentation features." />
<link rel="canonical" href="http://localhost:4000/docs/log_viewer.html" />
<meta property="og:url" content="http://localhost:4000/docs/log_viewer.html" />
<meta property="og:site_name" content="UNav-Sim" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Log Viewer" />
<script type="application/ld+json">
{"url":"http://localhost:4000/docs/log_viewer.html","headline":"Log Viewer","@type":"WebPage","description":"Intended as a documentation theme based on Jekyll for technical writers documenting software and other technical products, this theme has all the elements you would need to handle multiple products with both multi-level sidebar navigation, tags, and other documentation features.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">UNav-Sim</a></h1>
      

      <h1 id="log-viewer">Log Viewer</h1>

<p>The LogViewer is a Windows WPF app that presents the MavLink streams that it is getting from the
Unreal Simulator.  You can use this to monitor what is happening on the drone while it is flying.
For example, the picture below shows  a real time graph of the x, y an z gyro sensor information
being generated by the simulator.</p>

<h3 id="usage">Usage</h3>

<p>You can open a log file, it supports .mavlink and PX4 *.ulg files, then you will see the contents of
the log in a tree view on the left, whatever metrics you select will be added to the right the right
side.  You can close each individual chart with the little close box in the top right of each chart
and you can group charts so they share the same vertical axis using the group charts button on the
top toolbar.</p>

<p><img src="images/log_viewer.png" alt="Log Viewer" /></p>

<p>There is also a map option which will plot the GPS path the drone took.  You can also load multiple
log files so you can compare the data from each.</p>

<h3 id="realtime">Realtime</h3>

<p>You can also get a realtime view if you connect the LogViewer <code class="language-plaintext highlighter-rouge">before</code> you run the simulation.</p>

<p><img src="images/log_viewer_connect.png" alt="connect" /></p>

<p>For this to work you need to configure the <code class="language-plaintext highlighter-rouge">settings.json</code> with the following settings:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "SettingsVersion": 1.2,
    "SimMode": "Multirotor",
    "Vehicles": {
        "PX4": {
            ...,
            "LogViewerHostIp": "127.0.0.1",
            "LogViewerPort": 14388,
        }
    }
}
</code></pre></div></div>

<p>Note: do not use the “Logs” setting when you want realtime LogViewer logging.  Logging to
a file using “Logs” is mutually exclusive with LogViewer logging.</p>

<p>Simply press the blue connector button on the top right corner of the window, select the Socket
<code class="language-plaintext highlighter-rouge">tab</code>, enter the port number <code class="language-plaintext highlighter-rouge">14388</code>, and your <code class="language-plaintext highlighter-rouge">localhost</code> network.  If you are using WSL 2 on
Windows then select <code class="language-plaintext highlighter-rouge">vEthernet (WSL)</code>.</p>

<p>If you do choose <code class="language-plaintext highlighter-rouge">vEthernet (WSL)</code> then make sure you also set <code class="language-plaintext highlighter-rouge">LocalHostIp</code> and
<code class="language-plaintext highlighter-rouge">LogViewerHostIp</code> to the matching WSL ethernet address, something like <code class="language-plaintext highlighter-rouge">172.31.64.1</code>.</p>

<p>Then press the record button (triangle on the right hand side of the toolbar). Now start the
simulator, and the data will start streaming into LogViewer.</p>

<p>The drone view in Log Viewer shows the actual estimated position coming from the PX4, so that is a
great way to check whether the PX4 is in sync with the simulator.  Sometimes you can see some drift
here as the attitude estimation catches up with reality, this can become more visible after a bad
crash.</p>

<h3 id="installation">Installation</h3>

<p>If you can’t build the LogViewer.sln, there is also a <a href="https://lovettsoftwarestorage.blob.core.windows.net/downloads/Px4LogViewer/Px4LogViewer.application">click once
installer</a>.</p>

<h3 id="configuration">Configuration</h3>

<p>The magic port number 14388 can be configured in the simulator by editing the <a href="settings.md">settings.json
file</a>.  If you change the port number in LogViewer connection dialog then be sure
to make the matching changes in your <code class="language-plaintext highlighter-rouge">settings.json</code> file.</p>

<h3 id="debugging">Debugging</h3>

<p>See <a href="px4_logging.md">PX4 Logging</a> for more information on how to use the LogViewer to debug situations you are setting.</p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
